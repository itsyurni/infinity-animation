function infinity(t,e,n){return new infinity.prototype.init(t,e,n)}function _getComputedStyle(t,e){var n,i=t.ownerDocument.defaultView;return i&&i.getComputedStyle?(e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),i.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle?(e=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)?function(e){var n=t.style.left,i=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=i,e}(n):n):void 0}it=infinity.prototype,it.init=function(t,e=null,n={}){return is.string(t)?this.elem=document.querySelectorAll(t):t.length?this.elem=t:this.elem=[t],null!=e?this.loadMacro(e,n):this},it.fn=it.init.prototype,it.fn.macros={},it.fn.loadMacro=function(t,e){if(this.macros.hasOwnProperty(t))return this.macros[t].call(this,e,this.macros)},it.fn.chain=function(t){for(var e=0;e<this.elem.length;e++)is.undefined(this.elem[e]["infinity-Queue"])?queue=this.elem[e]["infinity-Queue"]=new QueueEngine:queue=this.elem[e]["infinity-Queue"],t.call(this.elem[e],queue);return this},it.fn.queue=function(t){if(is.undefined(t))return this.elem[0]["infinity-Queue"];this.chain(function(e){e.addQueue(t.bind(this,e))})},it.fn.stop=function(){return this.chain(function(t){this["infinity-stop"]=!0,t.clear(this)}),this},it.fn.css=function(t,e){if(is.object(t)&&is.undefined(e))this.chain(function(){for(var e in t)this.style[e]=t[e]});else if(is.string(t)&&!is.undefined(e))this.elem[0].style[t]=e;else if(is.string(t)&&is.undefined(e))return _getComputedStyle(this.elem[0],t);return this},it.fn.delay=function(t){return this.chain(function(e){e.addQueue(function(){setTimeout(function(){e.nextQueue()},t)})}),this},it.fn.animate=function(t={},e={}){return(e=it.generateOptions(e)).delay&&this.delay(e.delay),this.chain(function(n){var i;i=is.undefined(this.reverseData)?this.reverseData={}:this.reverseData,this["infinity-stop"]=!1;var r=this;function o(o=!1){var u=it.createTweens(r,t,e);0==o&&it.loop(u,function(){i.hasOwnProperty(this.prop)||(i[this.prop]={},i[this.prop].to=this.start,i[this.prop].ease=this.ease)}),is.undefined(e.onStart)||0!=o||e.onStart.call(r),it.tick(e,{stop:!1,draw:function(t){if(is.undefined(e.onUpdate)||0!=o||e.onUpdate.call(r,t),1==r["infinity-stop"])return this.stop=!0,n.nextQueue(),void(is.undefined(e.onStop)||0!=o||e.onStop.call(r));it.loop(u,function(){1==o&&(this.to=i[this.prop].to,this.ease=i[this.prop].ease),this.run(t)}),1==t&&(is.undefined(e.onComplete)||0!=o||e.onComplete.call(r),1==e.queue&&n.nextQueue())}})}if(0==e.queue&&o(),1==e.queue)if(e.repeat&&e.repeat>0)for(var u=0;u<e.repeat;u++)n.addQueue(o),1==e.reverse&&(e.reverseDelay&&n.addQueue(function(){setTimeout(function(){n.nextQueue()},e.reverseDelay)}),n.addQueue(o.bind(this,!0))),e.repeatDelay&&n.addQueue(function(){setTimeout(function(){n.nextQueue()},e.repeatDelay)});else n.addQueue(o),1==e.reverse&&(e.reverseDelay&&n.addQueue(function(){setTimeout(function(){n.nextQueue()},e.reverseDelay)}),n.addQueue(o.bind(this,!0)))}),this},is={string:function(t){return"string"==typeof t},number:function(t){return"number"==typeof t},bool:function(t){return"boolean"==typeof t},func:function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},undefined:function(t){return void 0===t},object:function(t){return"object"==typeof t},window:function(t){return null!=t&&t===t.window},array:Array.isArray||function(t){return t instanceof Array}},it._defaultOption={repeat:!1,reverse:!1,reverseDelay:!1,queue:!0,duration:400,repeatDelay:!1,delay:!1,ease:"_default",onComplete:void 0,onStart:void 0,onFinish:void 0,onUpdate:void 0,onStep:void 0},it.getData=function(t,e){var n=t["infinity-data"];return n&&!is.undefined(n[e])?n[e]:$(t).css(e)},it.setData=function(t,e,n){var i;is.undefined(t["infinity-data"])&&(t["infinity-data"]={}),i=t["infinity-data"],is.undefined(i[e])&&(i[e]=n)},it.clearData=function(t){is.undefined(t["infinity-data"])||delete t["infinity-data"]},it.patternProps={padding:["paddingLeft","paddingRight","paddingTop","paddingBottom"],margin:["marginLeft","marginRight","marginTop","marginBottom"],border:["borderTop","borderRight","borderTop","borderBottom"],radius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],radiusLeft:["borderTopLeftRadius","borderBottomLeftRadius"],radiusRight:["borderTopRightRadius","borderBottomRightRadius"],"radius-left":["borderTopLeftRadius","borderBottomLeftRadius"],"radius-right":["borderTopRightRadius","borderBottomRightRadius"],borderColor:["borderTopColor","borderBottomColor","borderLeftColor","borderRightColor"]},it.extends=function(t,e){for(key in e)t[key]=e[key]},it.generateOptions=function(t){for(key in it._defaultOption)t.hasOwnProperty(key)||(t[key]=it._defaultOption[key]);return t},it.loop=function(t,e){for(var n=0;n<t.length;n++)e.call(t[n],n)},it.interval=function(t){document.hidden?window.setTimeout(t):window.requestAnimationFrame(t)},it.tick=function(t,e){var n=performance.now(),i=function(){var r=(performance.now()-n)/t.duration;r>1&&(r=1),1!=e.stop&&(r<1&&it.interval(i),e.draw(r))};return i(),this},it.createTweens=function(t,e,n){var i=[];for(key in e){var r=is.undefined(e[key].unit)?Tween.parsing.unit(e[key].to):e[key].unit;if(it.patternProps.hasOwnProperty(key))if(is.array(it.patternProps[key]))for(var o=0;o<it.patternProps[key].length;o++)i.push(TweenEngin(t,it.patternProps[key][o],e[key],n,r));else i.push(TweenEngin(t,it.patternProps[key],e[key],n,r));else i.push(TweenEngin(t,key,e[key],n,r))}return i},it.tweenPlugin=function(t,e){Tween.fn.tweens.hasOwnProperty(t)?console.log("Tween alreasy exists !"):Tween.fn.tweens[t]=e},it.macro=function(t,e){it.fn.macros.hasOwnProperty(t)?console.log("Plugin already exists  !"):is.func(e)?it.fn.macros[t]=e:console.log("second param must be function !")};class QueueEngine{constructor(){this.list=[],this.running=!1}addQueue(t=null){if(null==t)return this.list;this.list.push(t),this.running||this.nextQueue()}nextQueue(){if(this.running=!0,!(this.list.length<1)){var t=this.list.shift();return is.func(t)?t():t}this.running=!1}clear(){return this.list=[]}}function TweenEngin(t,e,n,i,r){return new TweenEngin.prototype.init(t,e,n,i,r)}Tween=TweenEngin.prototype,Tween.init=function(t,e,n,i,r){this.elem=t,this.prop=e,this.end=n,this.option=i,this.ease=is.undefined(this.end.ease)?this.option.ease:this.end.ease,this.unit=r||"px",this.start=this.currentVal(),this.to=isNaN(Tween.parsing.to(this.start,this.end.to))?this.end.to:Tween.parsing.to(this.start,this.end.to)},Tween.fn=Tween.init.prototype,Tween.fn.currentVal=function(){var t=this.tweens[this.prop];return t&&t.get?t.get(this):this.tweens._default.get(this)},Tween.fn.run=function(t){this.progress=Tween.eases[this.ease](t),this.step=(this.to-this.start)*this.progress+this.start,is.undefined(this.option.onStep)||this.option.onStep.call(self.elem,this.progress,this);var e=this.tweens[this.prop];return e&&e.set?e.set(this):this.tweens._default.set(this),this},Tween.eases={_default:function(t){return t}},Tween.parsing={computedStyle:function(t,e){return _getComputedStyle(t,e)},to:function(t,e){var n=new RegExp("[0-9.,]+","g");return 0==e.toString().indexOf("+=")?parseFloat(t)+parseFloat(n.exec(e)):0==e.toString().indexOf("-=")?parseFloat(t)-parseFloat(n.exec(e)):parseFloat(e)},from:function(t,e,n){return"height"!=e&&"top"!=e&&"bottom"!=e||"%"!=n?"width"!=e&&"left"!=e&&"right"!=e||"%"!=n?parseFloat(this.computedStyle(t,e))||0:"BODY"==t.parentNode.tagName?parseFloat(this.computedStyle(t,e))/window.innerWidth*100:parseFloat(this.computedStyle(t,e))/parseFloat(this.computedStyle(t.parentNode,"width"))*100:"BODY"==t.parentNode.tagName?parseFloat(this.computedStyle(t,e))/window.innerHeight*100:parseFloat(this.computedStyle(t,e))/parseFloat(this.computedStyle(t.parentNode,"height"))*100},unit:function(t){return is.string(t)||(t=t.toString()),res=t.match(/(-?[\d.]+)([a-z%]*)/),res&&res[2]?res[2]:null},colorToRGBA:function(t){var e;return(e=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(t))?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]:(e=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(t))?[17*parseInt(e[1],16),17*parseInt(e[2],16),17*parseInt(e[3],16),1]:(e=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),1]:(e=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(t))?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]:colors[t]}},Tween.fn.tweens={_default:{get:function(t){return Tween.parsing.from(t.elem,t.prop,t.unit)||0},set:function(t){t.elem.style[t.prop]=t.step+t.unit}}};var colors={aqua:[0,255,255,1],azure:[240,255,255,1],beige:[245,245,220,1],black:[0,0,0,1],blue:[0,0,255,1],brown:[165,42,42,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgrey:[169,169,169,1],darkgreen:[0,100,0,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkviolet:[148,0,211,1],fuchsia:[255,0,255,1],gold:[255,215,0,1],green:[0,128,0,1],indigo:[75,0,130,1],khaki:[240,230,140,1],lightblue:[173,216,230,1],lightcyan:[224,255,255,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],magenta:[255,0,255,1],maroon:[128,0,0,1],navy:[0,0,128,1],olive:[128,128,0,1],orange:[255,165,0,1],pink:[255,192,203,1],purple:[128,0,128,1],violet:[128,0,128,1],red:[255,0,0,1],silver:[192,192,192,1],white:[255,255,255,1],yellow:[255,255,0,1],transparent:[255,255,255,0]};it.loop(["color","backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","outlineColor"],function(){var t=this;it.tweenPlugin(this,{get:function(e){return Tween.parsing.computedStyle(e.elem,t)},set:function(e){var n=Tween.parsing.colorToRGBA(e.start),i=Tween.parsing.colorToRGBA(e.to);e.run=function(e){var r=parseInt(n[0]+e*(i[0]-n[0]),10),o=parseInt(n[1]+e*(i[1]-n[1]),10),u=parseInt(n[2]+e*(i[2]-n[2]),10),s=n&&i?parseFloat(n[3]+e*(i[3]-n[3])):1;this.elem.style[t]="rgba("+r+","+o+","+u+","+s+")"}}})}),Tween.fn.tweens.scrollTop=Tween.fn.tweens.scrollLeft={set:function(t){t.elem.style[t.prop]=Tween.step}},Tween.fn.tweens.opacity={set:function(t){t.elem.style[t.prop]=t.step}},it.extends(Tween.eases,{linear:function(t){return t},smooth:function(t){return t*t*(3-2*t)},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return t<.5?t*t*2:2*t*(2-t)-1},cubicIn:function(t){return t*t*t},cubicOut:function(t){return(t-=1)*t*t+1},cubicInOut:function(t){return t<.5?4*t*t*t:4*(t-=1)*t*t+1},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1-(t-=1)*t*t*t},quarticInOut:function(t){return t<.5?8*t*t*t*t:1-8*(t-=1)*t*t*t},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return(t-=1)*t*t*t*t+1},quinticInOut:function(t){return t<.5?16*t*t*t*t*t:16*(t-=1)*t*t*t*t+1},exponentialIn:function(t){return t<=0?t:Math.pow(2,10*(t-1))},exponentialOut:function(t){return t>=1?t:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t<=0||t>=1?t:t<.5?.5*Math.pow(2,20*t-10):.5*(2-Math.pow(2,-20*t+10))},sineIn:function(t){return 1-Math.cos(1.570796326794897*t)},sineOut:function(t){return Math.sin(1.570796326794897*t)},sineInOut:function(t){return.5*(1-Math.cos(3.141592653589793*t))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt((2-t)*t)},circularInOut:function(t){return t<.5?.5*(1-Math.sqrt(1-4*t*t)):(t=2*t-2,.5*(Math.sqrt(1-t*t)+1))},elasticIn:function(t){return t<=0||t>=1?t:-Math.pow(2,10*t-10)*Math.sin(20.923007*t-22.493803)},elasticOut:function(t){return t<=0||t>=1?t:Math.pow(2,-10*t)*Math.sin(20.923007*t-1.570796)+1},elasticInOut:function(t){return t<=0||t>=1?t:t<.5?-.5*Math.pow(2,20*t-10)*Math.sin(27.960175*t-15.550884):Math.pow(2,-20*t+10)*Math.sin(27.960175*t-15.550884)*.5+1},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},backInOut:function(t){return t<.5?t*t*(14.379636*t-5.189818):(t-=1)*t*(14.379636*t+5.189818)+1},backInExponentialOut:function(t){return t<.5?t*t*(14.379636*t-5.189818):.5*(2-Math.pow(2,-20*t+10))},backInElasticOut:function(t){return t<.5?t*t*(14.379636*t-5.189818):t>=1?t:Math.pow(2,-20*t+10)*Math.sin(27.960175*t-15.550884)*.5+1},bounceIn:function(t){return t>.636364?1-7.5625*(t=1-t)*t:t>.27273?.25-7.5625*(t=.454546-t)*t:t>.090909?.0625-7.5625*(t=.181818-t)*t:t>=1?t:.015625-7.5625*(t=.045455-t)*t},bounceOut:function(t){return t<.363636?7.5625*t*t:t<.72727?7.5625*(t-=.545454)*t+.75:t<.909091?7.5625*(t-=.818182)*t+.9375:t>=1?t:7.5625*(t-=.954545)*t+.984375},bounceInOut:function(t){return t<.5?t>.318182?.5-3.78125*(t=1-2*t)*t:t>.136365?.125-3.78125*(t=.454546-2*t)*t:t>.045455?.03125-3.78125*(t=.181818-2*t)*t:.007813-3.78125*(t=.045455-2*t)*t:t<.681818?3.78125*(t=2*t-1)*t+.5:t<.863635?3.78125*(t=2*t-1.545454)*t+.875:t<.954546?3.78125*(t=2*t-1.818182)*t+.96875:t>=1?t:3.78125*(t=2*t-1.954545)*t+.992188}});